{"version":3,"names":["warnings","Set","deprecationWarning","oldName","newName","prefix","has","add","stack","captureShortStackTrace","console","warn","skip","length","stackTraceLimit","prepareStackTrace","Error","stackTrace","err","slice","map","frame","join"],"sources":["../../src/utils/deprecationWarning.ts"],"sourcesContent":["const warnings = new Set();\n\nexport default function deprecationWarning(\n  oldName: string,\n  newName: string,\n  prefix: string = \"\",\n) {\n  if (warnings.has(oldName)) return;\n  warnings.add(oldName);\n\n  const stack = captureShortStackTrace(1, 2);\n  console.warn(\n    `${prefix}\\`${oldName}\\` has been deprecated, please migrate to \\`${newName}\\`\\n${stack}`,\n  );\n}\n\nfunction captureShortStackTrace(skip: number, length: number) {\n  const { stackTraceLimit, prepareStackTrace } = Error;\n  let stackTrace: NodeJS.CallSite[];\n  // We add 1 to also take into account this function.\n  Error.stackTraceLimit = 1 + skip + length;\n  Error.prepareStackTrace = function (err, stack) {\n    stackTrace = stack;\n  };\n  new Error().stack;\n  Error.stackTraceLimit = stackTraceLimit;\n  Error.prepareStackTrace = prepareStackTrace;\n\n  return stackTrace\n    .slice(1 + skip, 1 + skip + length)\n    .map(frame => `    at ${frame}`)\n    .join(\"\\n\");\n}\n"],"mappings":";;;;;;AAAA,MAAMA,QAAQ,GAAG,IAAIC,GAAG,EAAE;AAEX,SAASC,kBAAkB,CACxCC,OAAe,EACfC,OAAe,EACfC,MAAc,GAAG,EAAE,EACnB;EACA,IAAIL,QAAQ,CAACM,GAAG,CAACH,OAAO,CAAC,EAAE;EAC3BH,QAAQ,CAACO,GAAG,CAACJ,OAAO,CAAC;EAErB,MAAMK,KAAK,GAAGC,sBAAsB,CAAC,CAAC,EAAE,CAAC,CAAC;EAC1CC,OAAO,CAACC,IAAI,CACT,GAAEN,MAAO,KAAIF,OAAQ,+CAA8CC,OAAQ,OAAMI,KAAM,EAAC,CAC1F;AACH;AAEA,SAASC,sBAAsB,CAACG,IAAY,EAAEC,MAAc,EAAE;EAC5D,MAAM;IAAEC,eAAe;IAAEC;EAAkB,CAAC,GAAGC,KAAK;EACpD,IAAIC,UAA6B;EAEjCD,KAAK,CAACF,eAAe,GAAG,CAAC,GAAGF,IAAI,GAAGC,MAAM;EACzCG,KAAK,CAACD,iBAAiB,GAAG,UAAUG,GAAG,EAAEV,KAAK,EAAE;IAC9CS,UAAU,GAAGT,KAAK;EACpB,CAAC;EACD,IAAIQ,KAAK,EAAE,CAACR,KAAK;EACjBQ,KAAK,CAACF,eAAe,GAAGA,eAAe;EACvCE,KAAK,CAACD,iBAAiB,GAAGA,iBAAiB;EAE3C,OAAOE,UAAU,CACdE,KAAK,CAAC,CAAC,GAAGP,IAAI,EAAE,CAAC,GAAGA,IAAI,GAAGC,MAAM,CAAC,CAClCO,GAAG,CAACC,KAAK,IAAK,UAASA,KAAM,EAAC,CAAC,CAC/BC,IAAI,CAAC,IAAI,CAAC;AACf"}