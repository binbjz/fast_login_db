{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"login\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Login\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"username\"\n}, \"Username:\", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"Password:\", -1 /* HOISTED */);\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Login\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_9 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [!$data.authenticated ? (_openBlock(), _createElementBlock(\"form\", {\n    key: 0,\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"]))\n  }, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.username = $event),\n    name: \"username\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.username]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    name: \"password\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])]), _hoisted_7, $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 32 /* HYDRATE_EVENTS */)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"h1\", null, \"Welcome, \" + _toDisplayString($data.username) + \"!\", 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.logout && $options.logout(...args))\n  }, \"Logout\")]))]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","$data","authenticated","onSubmit","_cache","_withModifiers","args","$options","login","_hoisted_2","_hoisted_3","_hoisted_4","username","$event","name","required","_hoisted_5","_hoisted_6","password","_hoisted_7","error","_hoisted_8","_toDisplayString","_hoisted_9","onClick","logout"],"sources":["/Users/zhaobin/Documents/WorkspaceP/fast_login_reg/login_reg_frontend/src/App.vue"],"sourcesContent":["<template>\n  <div class=\"login\">\n    <form v-if=\"!authenticated\" @submit.prevent=\"login\">\n      <h1>Login</h1>\n\n      <div class=\"form-group\">\n        <label for=\"username\">Username:</label>\n        <input type=\"text\" v-model=\"username\" name=\"username\" required>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"password\">Password:</label>\n        <input type=\"password\" v-model=\"password\" name=\"password\" required>\n      </div>\n\n      <button type=\"submit\">Login</button>\n\n      <div v-if=\"error\" class=\"error\">{{ error }}</div>\n    </form>\n\n    <div v-else>\n      <h1>Welcome, {{ username }}!</h1>\n      <button v-on:click=\"logout\">Logout</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      authenticated: false,\n      username: '',\n      password: '',\n      error: ''\n    };\n  },\n  methods: {\n    login: function () {\n      axios.post('http://localhost:8000/login/', {\n        username: this.username,\n        password: this.password\n      })\n          .then(({data}) => {\n            this.authenticated = true;\n            this.error = '';\n            this.username = data.username;\n          })\n          .catch(error => {\n            this.error = error.response.data.detail || error.message;\n          });\n    },\n    logout: function () {\n      this.authenticated = false;\n      this.username = '';\n      this.password = '';\n      this.error = '';\n    }\n  }\n};\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAO;gCAEdC,mBAAA,CAAc,YAAV,OAAK;;EAEJD,KAAK,EAAC;AAAY;gCACrBC,mBAAA,CAAuC;EAAhCC,GAAG,EAAC;AAAU,GAAC,WAAS;;EAI5BF,KAAK,EAAC;AAAY;gCACrBC,mBAAA,CAAuC;EAAhCC,GAAG,EAAC;AAAU,GAAC,WAAS;gCAIjCD,mBAAA,CAAoC;EAA5BE,IAAI,EAAC;AAAQ,GAAC,OAAK;;;EAETH,KAAK,EAAC;;;;;;uBAhB5BI,mBAAA,CAuBM,OAvBNC,UAuBM,G,CAtBSC,KAAA,CAAAC,aAAa,I,cAA1BH,mBAAA,CAgBO;;IAhBsBI,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,KAAA,IAAAD,QAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;MAChDG,UAAc,EAEdb,mBAAA,CAGM,OAHNc,UAGM,GAFJC,UAAuC,E,gBACvCf,mBAAA,CAA+D;IAAxDE,IAAI,EAAC,MAAM;+DAAUG,KAAA,CAAAW,QAAQ,GAAAC,MAAA;IAAEC,IAAI,EAAC,UAAU;IAACC,QAAQ,EAAR;iDAA1Bd,KAAA,CAAAW,QAAQ,E,KAGtChB,mBAAA,CAGM,OAHNoB,UAGM,GAFJC,UAAuC,E,gBACvCrB,mBAAA,CAAmE;IAA5DE,IAAI,EAAC,UAAU;+DAAUG,KAAA,CAAAiB,QAAQ,GAAAL,MAAA;IAAEC,IAAI,EAAC,UAAU;IAACC,QAAQ,EAAR;iDAA1Bd,KAAA,CAAAiB,QAAQ,E,KAG1CC,UAAoC,EAEzBlB,KAAA,CAAAmB,KAAK,I,cAAhBrB,mBAAA,CAAiD,OAAjDsB,UAAiD,EAAAC,gBAAA,CAAdrB,KAAA,CAAAmB,KAAK,oB,+EAG1CrB,mBAAA,CAGM,OAAAwB,UAAA,GAFJ3B,mBAAA,CAAiC,YAA7B,WAAS,GAAA0B,gBAAA,CAAGrB,KAAA,CAAAW,QAAQ,IAAG,GAAC,iBAC5BhB,mBAAA,CAA2C;IAA9B4B,OAAK,EAAApB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAkB,MAAA,IAAAlB,QAAA,CAAAkB,MAAA,IAAAnB,IAAA,CAAM;KAAE,QAAM,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}